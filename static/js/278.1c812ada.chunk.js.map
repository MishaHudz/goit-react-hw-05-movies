{"version":3,"file":"static/js/278.1c812ada.chunk.js","mappings":"oKAuBA,IApBA,YAAoD,IAA9BA,EAA6B,EAA7BA,cAAeC,EAAc,EAAdA,WAC7BC,GAAWC,EAAAA,EAAAA,MACjB,OACE,wBACGH,EAAcI,KAAI,YAA6B,IAA1BC,EAAyB,EAAzBA,GAAIC,EAAqB,EAArBA,eACxB,OACE,yBACE,SAAC,KAAD,CACEC,GAAE,UAAKN,EAAU,UAAMI,GAAN,iBAAuBA,IACxCG,MAAON,EAFT,SAIGI,KALID,EASZ,KAGN,C,0HCmCD,UAlDA,WAAuB,IAAD,EACpB,GAA8BI,EAAAA,EAAAA,MAA9B,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAgCC,EAAAA,EAAAA,UAAS,MAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KACMC,GAAWC,EAAAA,EAAAA,UAAQ,kBAAMN,EAAQO,IAAI,SAAlB,GAA6B,CAACP,KAQvDQ,EAAAA,EAAAA,YAAU,WACR,GAAKH,EAAL,CAEA,IAAMI,EAAU,mCAAG,uGACSC,EAAAA,EAAAA,IAAiBL,GAD1B,gBACTM,EADS,EACTA,QACRP,EAAYO,GACW,IAAnBA,EAAQC,QAAcC,EAAAA,GAAAA,MAAY,aAHrB,2CAAH,qDAKhBJ,GAPqB,CAStB,GAAE,IAEH,IAAMK,EAAY,mCAAG,uGACOJ,EAAAA,EAAAA,IAAiBV,EAAQO,IAAI,WADpC,gBACXI,EADW,EACXA,QACRP,EAAYO,GACW,IAAnBA,EAAQC,QAAcC,EAAAA,GAAAA,MAAY,aAHnB,2CAAH,qDAYlB,OACE,iCACE,kBAAME,SAhCW,SAAAC,GAEnB,GADAA,EAAIC,kBACCjB,EAAQO,IAAI,UAAW,OAAOM,EAAAA,GAAAA,KAAW,2BAC9CC,GACD,EA4BG,WACE,kBACEI,KAAK,OACLC,SAXkB,SAAAH,GACxB,IAAMI,EACiB,KAArBJ,EAAIK,OAAOC,MAAe,CAAEC,OAAQP,EAAIK,OAAOC,OAAU,CAAC,EAC5DrB,EAAWmB,EACZ,EAQOE,MAAK,UAAEtB,EAAQO,IAAI,iBAAd,QAA2B,MAElC,4BAAQ,cAETJ,IAAY,SAAC,IAAD,CAAYb,cAAea,EAAUZ,YAAY,MAGnE,C,+LCpDDiC,EAAAA,EAAAA,SAAAA,QAAyB,+BAEzB,IAAMC,EAAU,CACdC,QAAS,CACPC,cACE,+NAIC,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,uGACkBJ,EAAAA,EAAAA,GAAM,sBAAuBC,GAD/C,uBACGI,EADH,EACGA,KADH,kBAGEA,GAHF,kEAMA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAkCC,GAAlC,0FACkBP,EAAAA,EAAAA,GAAM,UAAD,OAAWO,GAAUN,GAD5C,uBACGI,EADH,EACGA,KADH,kBAGEA,GAHF,kEAMA,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAA2BD,GAA3B,0FACkBP,EAAAA,EAAAA,GAAM,UAAD,OAAWO,EAAX,YAA6BN,GADpD,uBACGI,EADH,EACGA,KADH,kBAGEA,GAHF,kEAMA,SAAeI,EAAtB,+CAAO,OAAP,oBAAO,WAA8BF,GAA9B,0FACkBP,EAAAA,EAAAA,GAAM,UAAD,OAAWO,EAAX,YAA6BN,GADpD,uBACGI,EADH,EACGA,KADH,kBAGEA,GAHF,kEAMA,SAAenB,EAAtB,+CAAO,OAAP,oBAAO,WAAgCwB,GAAhC,0FACkBV,EAAAA,EAAAA,GAAM,uBAAD,OACHU,GACvBT,GAHG,uBACGI,EADH,EACGA,KADH,kBAMEA,GANF,kE","sources":["components/MoviesList/MoviesList.jsx","pages/Movies/Movies.jsx","services/movies-api.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\n\nfunction MoviesList({ moviesListArr, moviesPage }) {\n  const location = useLocation();\n  return (\n    <ul>\n      {moviesListArr.map(({ id, original_title }) => {\n        return (\n          <li key={id}>\n            <Link\n              to={`${moviesPage ? `${id}` : `movies/${id}`}`}\n              state={location}\n            >\n              {original_title}\n            </Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n\nexport default MoviesList;\nMoviesList.propTypes = {\n  moviesListArr: PropTypes.arrayOf(PropTypes.object).isRequired,\n  moviesPage: PropTypes.bool,\n};\n","import MoviesList from 'components/MoviesList/MoviesList';\nimport { useEffect, useMemo, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { getFilmsBySearch } from 'services/movies-api';\n\nfunction MoviesPage() {\n  const [request, setRequest] = useSearchParams();\n  const [filmList, setFilmList] = useState(null);\n  const filmName = useMemo(() => request.get('search'), [request]);\n\n  const onFormSubmit = evt => {\n    evt.preventDefault();\n    if (!request.get('search')) return toast.warn('Enter name of the film!');\n    getFilmsList();\n  };\n\n  useEffect(() => {\n    if (!filmName) return;\n\n    const fetchFilms = async () => {\n      const { results } = await getFilmsBySearch(filmName);\n      setFilmList(results);\n      if (results.length === 0) toast.error('Not found');\n    };\n    fetchFilms();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const getFilmsList = async () => {\n    const { results } = await getFilmsBySearch(request.get('search'));\n    setFilmList(results);\n    if (results.length === 0) toast.error('Not found');\n  };\n\n  const updateQueryString = evt => {\n    const filmRequest =\n      evt.target.value !== '' ? { search: evt.target.value } : {};\n    setRequest(filmRequest);\n  };\n\n  return (\n    <>\n      <form onSubmit={onFormSubmit}>\n        <input\n          type=\"text\"\n          onChange={updateQueryString}\n          value={request.get('search') ?? ''}\n        />\n        <button>Search</button>\n      </form>\n      {filmList && <MoviesList moviesListArr={filmList} moviesPage={true} />}\n    </>\n  );\n}\n\nexport default MoviesPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst options = {\n  headers: {\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxYTUyYWExMWNlZTIwZWQ3MmNlODBlNTQ3ODk5ZTBiMiIsInN1YiI6IjY0N2UyNDE3Y2NkZTA0MDExOGFhYTZjNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ScOi38rHNRdHf25i9RPscLJw2wEJk6tQ_ks7iMhFAhw',\n  },\n};\n\nexport async function getMostPopularFilms() {\n  const { data } = await axios('/trending/movie/day', options);\n\n  return data;\n}\n\nexport async function getFilmDetailsById(filmId) {\n  const { data } = await axios(`/movie/${filmId}`, options);\n\n  return data;\n}\n\nexport async function getFilmCast(filmId) {\n  const { data } = await axios(`/movie/${filmId}/credits`, options);\n\n  return data;\n}\n\nexport async function getFilmRevirws(filmId) {\n  const { data } = await axios(`/movie/${filmId}/reviews`, options);\n\n  return data;\n}\n\nexport async function getFilmsBySearch(inputedSearchString) {\n  const { data } = await axios(\n    `/search/movie?query=${inputedSearchString}`,\n    options\n  );\n\n  return data;\n}\n"],"names":["moviesListArr","moviesPage","location","useLocation","map","id","original_title","to","state","useSearchParams","request","setRequest","useState","filmList","setFilmList","filmName","useMemo","get","useEffect","fetchFilms","getFilmsBySearch","results","length","toast","getFilmsList","onSubmit","evt","preventDefault","type","onChange","filmRequest","target","value","search","axios","options","headers","Authorization","getMostPopularFilms","data","getFilmDetailsById","filmId","getFilmCast","getFilmRevirws","inputedSearchString"],"sourceRoot":""}